(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M;f=function(e,t,n,r,i){var s,o,u,a,f,l;s=h(r);a=3;l=T(e);o=T(t);L(s,l,o,a,i);u=k(e,t,n);return f=m(s,u,d,v)};p=function(e,t,n,r,i,s){var o;o=f(e,t,n,r,s);return c(i,o)};c=function(e,t){var r,i,s,o,u,a;t.data("moments",e);for(i=0,o=e.length;i<o;i++){r=e[i];r=l(r,t)}e=n(e,t);console.log(e.length);a=[];for(s=0,u=e.length;s<u;s++){r=e[s];a.push(r.lblContainer.delay(1700).fadeIn({duration:600,complete:function(){var t,n,i;i=[];for(t=0,n=e.length;t<n;t++){r=e[t];i.push(r.animateStartWire())}return i}}))}return a};l=function(e,t){var n;n=w(t);s(e,t);return o(e,t)};L=function(e,t,n,r,i){return e.data({utils:{startDate:t,endDate:n,markerLeftBuffer:r,spineWidth:this.spineWidth!=null?100:void 0,structure:i,dateToMarkerNo:function(e){return Math.floor((e-this.startDate)/(1e3*60*60*24))},noOfIntervals:function(){return 1+this.dateToMarkerNo(this.endDate)},dateToMarkerLeft:function(e){if(typeof e==="string"){e=T(e)}return this.markerLeftBuffer+this.pctPerInterval()*this.dateToMarkerNo(e)+"%"},pctPerInterval:function(){return(100-this.markerLeftBuffer)/(this.noOfIntervals()-1)},toString:function(){return"Start : "+this.startDate+" 				\nEnd : "+this.endDate+"  				\nMarkers left buffer : "+this.markerLeftBuffer+" 				\nNo Of Intervals : "+this.noOfIntervals()+"  				\nPercent per Interval : "+this.pctPerInterval().toFixed(3)}}})};k=function(e,t,n){var r,i,s;e=T(e);t=T(t);r=[];while(e<=t){r.push({date:e.getDate(),day:e.getDay(),month:e.getMonth(),year:1900+e.getYear(),toString:function(){return this.date+"/"+this.month+"/"+this.year+" day is "+this.day}});e.setDate(e.getDate()+1)}for(i=0,s=r.length;i<s;i++){n=r[i];A(n)}return r};A=function(e){var t;t={};if(e["date"]==null){if(typeof e==="string"){e=T(e)}t.day=e.getDay();t.date=e.getDate();t.month=e.getMonth();e=t}if(e.date===1){return e.priority=3}else if(e.day===1){return e.priority=2}else{return e.priority=1}};n=function(t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v;a=w(n);O(t);u=[];r=[];for(l=0,p=t.length;l<p;l++){s=t[l];s.isExpanded=false}o=function(e,t,n,r){e.up=t%2===0;if(e.up){return n.push(e)}else{return r.push(e)}};for(i=c=0,d=t.length;c<d;i=++c){s=t[i];o(s,i,u,r)}n.data("ups",u);n.data("downs",r);f=function(e){var t,r;e.spine=n;e.lblWidth=function(){return parseFloat(this._width)};e.lblHeight=function(){return this._height};e.top=function(){return parseFloat(this._top)};if((t=e._marginLeft)==null){e._marginLeft=16}e.bottom=function(){return parseFloat(this.top()+parseFloat(this.lblHeight()))};e.leftmost=function(){return this.leftPctNum-this.pctOffset()+"%"};e.rightmost=function(){return parseFloat(this.leftmost())+this.pctWidth()+"%"};if((r=e.leftPctNum)==null){e.leftPctNum=parseFloat(a.dateToMarkerLeft(this.start))}e.pctWidth=function(){return 100*this.lblWidth()/(this.spine.data("widthPct")/100*this.spine.parent().width())};e.pctOffset=function(){var e,t;e=parseFloat(this._marginLeft);t=this.spine.data("widthPct")/100*this.spine.parent().width();return 100*(e/t)};e.inVerticalRange=function(e){var t,n;return this.top()<=(t=e.top())&&t<=this.bottom()||this.top()<=(n=e.bottom())&&n<=this.bottom()};e.inHorizontalRange=function(e){return parseFloat(this.leftmost()<=parseFloat(e.leftmost()<=parseFloat(this.rightmost())))||parseFloat(this.leftmost()<=parseFloat(e.rightmost()<=parseFloat(this.rightmost())))};return e.clash=function(e){return this.inVerticalRange(e)&&this.inHorizontalRange(e)}};for(h=0,v=t.length;h<v;h++){s=t[h];f(s)}return e(t)};e=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g;console.log("Does moment 5 clash with 7? "+e[4].inHorizontalRange(e[6]));s=e[0].spine;u=w(s);o=s.data("ups");n=s.data("downs");for(l=0,d=e.length;l<d;l++){r=e[l];if(r.isExpanded){r._marginLeft=r.collapsed.marginLeft;r._width=r.expanded.width;r._height=r.expanded.height}else{r._marginLeft=r.collapsed.marginLeft;r._width=r.collapsed.width;r._height=r.collapsed.height}}a=function(e){var t,n,r,i,s;i=T(e.start);n=Math.floor((e.leftPctNum-parseFloat(e.leftmost()))/u.pctPerInterval())+1;s=Math.floor((parseFloat(e.rightmost())-e.leftPctNum)/u.pctPerInterval())+1;r=new Date(i);r.setDate(i.getDate()-n);i.setDate(i.getDate()+s);t=[];while(r<=i){t.push(A(r));r.setDate(r.getDate()+1)}return e.priority=Math.max.apply(Math,t)};for(c=0,v=e.length;c<v;c++){r=e[c];a(r)}f=function(e){var t;t=0;if(e.up){switch(e.priority){case 3:t=-25;break;case 2:t=-20;break;case 1:t=-13}t=t-parseFloat(e._height)}else{switch(e.priority){case 3:t=20;break;case 2:t=16;break;case 1:t=12}}return e._top=t};for(h=0,m=e.length;h<m;h++){r=e[h];f(r)}t=function(e,n){var i;i=function(){var t,i,s;s=[];for(t=0,i=n.length;t<i;t++){r=n[t];if(e.clash(r)){s.push(r)}}return s}();if(i.length>0){if(!r.up){e._top=i[0]._top+4+e._height}else{e._top=i[0]._top-4-e._height}return t(e,n)}};i=function(e){var n,i,s,o,u;u=[];for(n=s=0,o=e.length;s<o;n=++s){r=e[n];u.push(t(r,function(){var t,n,s;s=[];for(n=0,t=e.length;n<t;n++){i=e[n];if(i!==r){s.push(i)}}return s}()))}return u};i(o);i(n);for(p=0,g=e.length;p<g;p++){r=e[p];M(r)}return e};M=function(e){var t;t=e.lblContainer;t.animate({height:e._height,width:e._width,left:e._left,top:e._top+"px"});if(e.startWire.height()!==0){return e.animateStartWire()}};x=function(e){return"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Aug,Nov,Dec".split(",")[e]};O=function(e){return e.sort(function(e,t){if(T(e.start)<T(t.start)){return-1}else{return 1}})};g=function(e){return e.parent()};w=function(e){if(e.hasClass("spine")){return e.parent().data("utils")}else{return e.data("utils")}};y=function(){return"timeline_"+$(".timeline").length+1};T=function(e){var t;t=e.match(/(\d+)/g);return new Date(t[0],t[1]-1,t[2])};h=function(e){var t;e.append(t=$(document.createElement("div")));return t.attr({id:y(),"class":"timelineContainer"}).css({position:"absolute",height:"150px",width:"100%",backgroundColor:"white"})};m=function(e,t,n,r){var i,s,o;i=7;s=3;o=$(document.createElement("div")).data({leftBuffer:i,rightBuffer:s});e.append(o);o.data("widthPct",100-(s+i));o.attr({"class":"spine"}).css({position:"absolute",width:"0%",height:"1px","margin-top":"50%","margin-left":i+"%","margin-right":s+"%",backgroundColor:"black"}).animate({width:100-(s+i)+"%"},{duration:1e3,complete:function(){return o.find(".intMarker").delay(800).fadeIn(600)}});return n(o,t,r)};v=function(e){var t;t=g(e);t.append(E(12,"black").addClass("originCircle").css({opacity:0,top:"50%",left:e.data("leftBuffer")+"%"}));t.find(".originCircle").animate({opacity:1},{duration:"300",easing:"easeInBounce"});return e};E=function(e,t){var n;return i(n=$(document.createElement("div")).css({background:t,zIndex:10,height:e+"px",width:e+"px","-moz-border-radius":e+"px","-webkit-border-radius":e+"px","-webkit-box-shadow":"0 0 1px black","-moz-box-shadow":"0 0 1px black",boxShadow:"0 0 1px black",position:"absolute"}))};i=function(e){return e.css({"margin-top":-e.height()/2+"px","margin-left":-e.width()/2+"px"})};t=function(e,t,n){return e.animate({height:t+"px",width:t+"px","-moz-border-radius":t+"px","-webkit-border-radius":t+"px","margin-top":-t/2+"px","margin-left":-t/2+"px"},{duration:n})};d=function(e,t,n){var i,s,o,u,a,f,l,c,h,p,d,v,m;p=new Date;s=function(e){var t;switch(e.priority){case 3:t={w:3,h:19,c:"black"};break;case 2:t={w:2,h:11,c:"black"};break;case 1:t={w:1,h:5,c:"black"}}if(e.date===p.getDate()&&e.month===p.getMonth()){t.c="blue";if(t.h<15){t.h=15}}return t};d=w(g(e));o=d.markerLeftBuffer;c=d.pctPerInterval();for(u=v=0,m=t.length;v<m;u=++v){a=t[u];h=3+u*c+"%";(l=S(s(a))).css({left:h});e.append(l);i=function(e){var t;t=e.data("finalHeight");return e.delay(1200).animate({height:t,marginTop:-t/2},{duration:300})};i(l);f=r(a);if(f!=null){e.append(f.css("left",h));f.hide()}}return n(e)};S=function(e){var t,n;t=e["h"];n=e["w"];return $(document.createElement("div")).css({position:"absolute",top:0,marginTop:0,"margin-left":-n/2,height:0,width:n,backgroundColor:e["c"]}).data("finalHeight",t)};r=function(e){var t,n;t=$(document.createElement("div")).css({marginTop:-14,width:40,marginLeft:-20,textAlign:"center",height:"auto",fontFamily:"Helvetica Neue",fontSize:"7px",position:"absolute"}).addClass("intMarker");n="";switch(e.priority){case 3:n=x(e.month);t.css({marginTop:-20,fontSize:9,fontWeight:"bold"});break;case 2:n="Mon "+e.date;break;case 1:return null}return t.text(n)};s=function(e,t){var n,r,i,s;s=w(t);i=s.dateToMarkerLeft(T(e.start));n=s.dateToMarkerLeft(T(e.end));t.append((e.startDot=E(7,"blue")).delay(1400).css("left",0).animate({left:i},{duration:400}));t.append((e.endDot=E(7,"red")).delay(1400).css("left",0).animate({left:n},{duration:400}).hide());t.append(e.duration=a(e,w(t),"green"));t.append(r=E(14,"white").css({opacity:0,left:i}));return e.hoverAnimation={"in":e.duration.data("slideIn"),out:e.duration.data("slideOut")}};a=function(e,t,n){var r,i,s,o;r=t.dateToMarkerLeft(T(e.start));s=t.dateToMarkerLeft(T(e.end));o=parseFloat(s)-parseFloat(r)+"%";return i=$(document.createElement("div")).css({height:2,width:0,position:"absolute",left:r,zIndex:5,backgroundColor:n}).data({slideIn:function(){if(!i.hasClass("inTransition")){i.addClass("inTransition").stop().css("width",0).animate({width:o},{duration:300,complete:function(){return i.removeClass("inTransition")}});return e.endDot.fadeIn(300)}},slideOut:function(){var t;t=0;if(i.hasClass("inTransition")){t=200}e.endDot.delay(t).stop().fadeOut(300);return i.delay(t).stop().addClass("inTransition").animate({width:0},{duration:300}).removeClass("inTransition")}})};o=function(t,n){var r,i;i=w(n).dateToMarkerLeft(t.start);n.append(r=$(document.createElement("div")));r.addClass("momentInfo").css({position:"absolute",textAlign:"left",whiteSpace:"nowrap",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",borderBottomLeftRadius:"4px",borderBottomRightRadius:"4px",borderTopLeftRadius:"4px",borderTopRightRadius:"4px",paddingLeft:"2px",paddingRight:"2px",borderColor:"#636363",fontSize:"10px",borderWidth:"1",borderStyle:"solid",zIndex:30,overflow:"hidden",backgroundColor:"rgb(221,221,221)",left:i,height:"auto",width:"auto"}).click(function(){t.isExpanded=!t.isExpanded;return e(n.data("moments"))}).hover(t.hoverAnimation["in"],t.hoverAnimation.out);C(t,r,w(n).structure,w(n)).hide();r.css("margin-left",-r.width()/2).data("defaultLeft",i);t.leftPctNum=parseFloat(i);u(t,n,i);t.lblContainer=r;return t};u=function(e,t,n){var r;t.append(r=$(document.createElement("div")));r.addClass("wire").css({position:"absolute",width:"1",backgroundColor:"black",left:n,top:0,"-webkit-box-shadow":"0 0 1px blue",height:0,"-moz-box-shadow":"0 0 1px blue",boxShadow:"0 0 1px blue"});e.startWire=r;return e.animateStartWire=function(){if(this.up){return this.startWire.stop().animate({height:Math.abs(this.bottom()),top:this.bottom()},{duration:200,easing:"linear"})}else{return this.startWire.animate({height:this.top()},{duration:200})}}};C=function(e,t,n,r){var i,s,o,u,a;o="";for(i=u=0,a=n.title.length-2;0<=a?u<=a:u>=a;i=0<=a?++u:--u){s=n.title[i];if(e[s]!=null){o+=e[s]+":"}}o+=e[n.title[n.title.length-1]];t.text(o);e.collapsed={height:t.height(),width:t.width()+4,marginLeft:(t.width()+4)/2};t;return N(e,o,t,n,r)};N=function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;if(r.extendedTitle.length!==0){t+=" - ";for(o=d=0,y=r.extendedTitle.length-2;0<=y?d<=y:d>=y;o=0<=y?++d:--d){u=r.extendedTitle[o];if(e.key!=null){t+=e[u]+", "}}t+=e[r.extendedTitle[r.extendedTitle.length-1]]}t+="\n";for(o=v=0,b=r.content.length-2;0<=b?v<=b:v>=b;o=0<=b?++v:--v){u=r.content[o];if(e[u]!=null){t+=e[u]+" / "}}t+=e[r.content[r.content.length-1]];n.text(t);n.html(n.html().replace("\n","<br>"));l="";w=t.split("\n");p=function(){if(a.length>l.length){return l=a}};for(m=0,g=w.length;m<g;m++){a=w[m];p(a,o)}c=$("<span></span>");h=c.css({display:"none",whiteSpace:"nowrap",fontSize:"10px",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",padding:"4px"}).appendTo($("body")).text(l).width()+"px";s=c.html("<br><br>").height();c.remove();f=parseFloat(i.dateToMarkerLeft(e.start)+parseFloat(i.dateToMarkerLeft(e.end)))/2-n.width()/2;e.expanded={height:s,width:h,marginLeft:f};return n.css({height:e.collapsed.height,width:e.collapsed.width,marginLeft:e.collapsed.marginLeft})};b=function(){return[{id:"2",type:"TUT",name:"Tutorial sheet 1 - recap and basic objects",start:"2013-01-14",end:"2013-01-21",spec:"SPEC",givens:"GIVENS",notes:"NOTES"},{id:"4",type:"TUT",name:"Tutorial sheet 3 - abstract classes and interfaces",start:"2013-01-28",end:"2013-02-12",spec:"SPEC",givens:"GIVENS",notes:"NOTES"},{id:"6",type:"TUT",name:"Tutorial sheet 5 - exceptions and miscellaneous",start:"2013-02-11",end:"2013-02-18",spec:"SPEC",givens:"GIVENS",notes:"NOTES"},{id:"8",type:"TUT",name:"Live demo code from Part 1 of the course ",start:"2013-02-22",end:"2013-03-06",spec:"SPEC",givens:"GIVENS",notes:"NOTES"},{id:"18",type:"TUT",name:"Heaps and AVL trees",start:"2013-03-10",end:"2013-03-17",spec:"SPEC",givens:"GIVENS",notes:"NOTES"},{id:"17",type:"TUT",name:"Tutorial 3 - Trees and BSTs",start:"2013-03-03",end:"2013-03-10",spec:"SPEC",givens:"GIVENS",notes:"NOTES"},{id:"19",type:"OT",name:"Exercise 19",start:"2013-03-12",end:"2013-03-17",spec:"SPEC",givens:"GIVENS",notes:"NOTES"}]};$(function(){var e,t,n,r;r=["2013-01-07","2013-03-27"],n=r[0],t=r[1];e={title:["id","type"],extendedTitle:[],content:["spec","givens","notes"]};return p(n,t,"day",$("#container"),b(),e)})}).call(this)